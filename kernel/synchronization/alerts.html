

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" > <!--<![endif]-->
  <head>
    <meta charset="utf-8">
   <!-- Google Tag Manager -->
   <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
   new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
   })(window,document,'script','dataLayer','GTM-KMP8MS');</script>
   <!-- End Google Tag Manager -->
    <link rel="apple-touch-icon" sizes="57x57" href="../../_static/img/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../../_static/img/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../../_static/img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../../_static/img/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../../_static/img/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../../_static/img/apple-touch-icon-120x120.png">
    <link rel="icon" type="image/png" href="../../_static/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../_static/img/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="../../_static/img/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="../../_static/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Zephyr Project">
    <meta name="application-name" content="Zephyr Project">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    
    <title>Alerts &mdash; Zephyr Project Documentation</title>
    

    
    

    

    
    
      
    

    
    
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    

    
      <link rel="stylesheet" href="../../_static/zephyr-custom.css" type="text/css" />
    
      <link rel="stylesheet" href="../../_static/css/normalize.css" type="text/css" />
    
      <link rel="stylesheet" href="../../_static/css/layout.css" type="text/css" />
    
      <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    

    
        <link rel="index" title="Index" href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
        <link rel="copyright" title="Copyright" href="../../copyright.html"/>
      <link rel="top" title="Zephyr Project Documentation" href="../../index.html"/>
        <link rel="up" title="Synchronization" href="synchronization.html"/>
        <link rel="next" title="Data Passing" href="../data_passing/data_passing.html"/>
        <link rel="prev" title="Mutexes" href="mutexes.html"/> 

    
    <script src="../../_static/js/modernizr.min.js"></script>

  </head>

  <body class="not-front page-documentation one-sidebar sidebar-first" role="document" >
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KMP8MS"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="page">
      <header id="header">
  <div class="header-wrapper">
    <div class="container">
      <a href="https://zephyrproject.org/" title="Zephyr Project" rel="home" id="logo">
        <img src="../../_static/img/logo_white.png" alt="Zephyr Project">
      </a>
      <a href="" id="navigation-toggle">
        <span> </span>
        Menu
      </a>
      <nav id="navigation" class="menu with-primary with-secondary">
        <ul class="header-menu main-menu">
          <li class="first expanded about mid-1209"><a href="https://zephyrproject.org/about/"><span>About</span></a>
            <ul class="menu">
              <li class="first leaf what-is-zephyr mid-2563"><a href="https://zephyrproject.org/what-is-zephyr/"><span>What is the Zephyr Project?</span></a></li>
              <li class="leaf organization mid-2564"><a href="https://zephyrproject.org/about/organization/"><span>Organization</span></a></li>
              <li class="leaf memberships mid-2532"><a href="https://zephyrproject.org/#members"><span>Members</span></a></li>
              <li class="leaf faq mid-2525"><a href="https://zephyrproject.org/about/#faq"><span>FAQ</span></a></li>
              <li class="leaf join mid-2622"><a href="https://zephyrproject.org/join/"><span>Join</span></a></li>
              <li class="last leaf contact-us mid-2530"><a href="https://zephyrproject.org/about/#contact-us"><span>Contact Us</span></a></li>
            </ul>
          </li>
          <li class="expanded developers mid-1209"><a href="https://zephyrproject.org/developers/"><span>Developers</span></a>
            <ul class="menu">
              <li class="first expanded leaf code mid-2563"><a href="https://github.com/zephyrproject-rtos/zephyr/" target="_blank"><span>Code</span></a></li>
              <li class="leaf downloads mid-2564"><a href="https://zephyrproject.org/developers/#downloads"><span>Downloads</span></a></li>
              <li class="leaf documentation mid-2564"><a href="http://docs.zephyrproject.org/index.html" target="_blank"><span>Documentation</span></a></li>
              <li class="leaf supported-boards mid-2564"><a href="http://docs.zephyrproject.org/boards/boards.html" target="_blank"><span>Supported Boards</span></a></li>
              <li class="leaf releases-overview mid-2564"><a href="https://zephyrproject.org/developers/#releases-overview"><span>Releases Overview</span></a></li>
              <li class="leaf how-to-contribute mid-2564"><a href="https://zephyrproject.org/developers/how-to-contribute/"><span>How to Contribute</span></a></li>
              <li class="last leaf community-guidelines mid-2564"><a href="https://zephyrproject.org/developers/how-to-contribute/#community-guidelines"><span>Community Guidelines</span></a></li>
            </ul>
          </li>
          <li class="expanded news mid-1209"><a href="https://zephyrproject.org/news/"><span>News</span></a>
            <ul class="menu">
              <li class="first leaf announcements mid-2563"><a href="https://zephyrproject.org/news/announcements/"><span>Announcements</span></a></li>
              <li class="leaf blog mid-2563"><a href="https://zephyrproject.org/news/blog/"><span>Blog</span></a></li>
              <li class="last leaf events mid-2563"><a href="https://zephyrproject.org/events/"><span>Events</span></a></li>
            </ul>
          </li>
          <li class="last expanded project-resources mid-1209"><a href="https://zephyrproject.org/project-resources/"><span>Project Resources</span></a>
            <ul class="menu">
              <li class="first leaf presentations mid-2563"><a href="https://zephyrproject.org/project-resources/presentations/"><span>Presentations</span></a></li>
              <li class="leaf videos mid-2563"><a href="https://zephyrproject.org/project-resources/videos/"><span>Videos</span></a></li>
              <li class="leaf demos mid-2563"><a href="https://zephyrproject.org/project-resources/demos/"><span>Demos</span></a></li>
              <li class="leaf zephyr-in-market mid-2563"><a href="https://zephyrproject.org/project-resources/zephyr-in-market/"><span>Zephyr in Market</span></a></li>
              <li class="last leaf developer-tools mid-2563"><a href="https://zephyrproject.org/project-resources/developer-tools/"><span>Developer Tools</span></a></li>
            </ul>
          </li>
        </ul>
      </nav><!-- /navigation -->
    </div>
  </div>
</header><!-- /header -->
      <!-- STARTS #main -->
      <div id="main">
        <!-- STARTS .main-container -->
        <div class="main-container">
          

 



<!-- Docs -->





<div id="breadcrumb">
  <div class="container">
    <a href="/">Home</a> / 
    <a href="../../index.html">Docs</a> /
      
          <a href="../kernel.html">Zephyr Kernel Primer</a> /
      
          <a href="synchronization.html">Synchronization</a> /
      
  </div>
</div>
          <aside id="sidebar-first" class="container-sidebar">
            
            <span id="secondary-menu-button" class="">Documentation</span>
<div class="region region-sidebar">
  <div class="docs-menu">
  
    
    
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introducing_zephyr.html">Introducing Zephyr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/getting_started.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/contribute.html">Contributing to the Zephyr Project</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../kernel.html">Zephyr Kernel Primer</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../threads/threads.html">Threads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timing/timing.html">Timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory/memory.html">Memory Allocation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="synchronization.html">Synchronization</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="semaphores.html">Semaphores</a></li>
<li class="toctree-l3"><a class="reference internal" href="mutexes.html">Mutexes</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Alerts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data_passing/data_passing.html">Data Passing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usermode/usermode.html">User Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/other.html">Other Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../security/security.html">Zephyr Project Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/boards.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devices/index.html">Device and Driver Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../subsystems/subsystems.html">Subsystems</a></li>
</ul>

    
  
  </div>
<div role="search" class="sphinx-search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search documentation" class="search-documentation" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</div>
          </aside>
          <!-- STARTS .content SECTION-->
          <section id="content" class="row">
            
	    
            <div class="rst-content">
              <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                <div itemprop="articleBody">
                  
  <div class="section" id="alerts">
<span id="alerts-v2"></span><h1>Alerts<a class="headerlink" href="#alerts" title="Permalink to this headline">¶</a></h1>
<p>An <em class="dfn">alert</em> is a kernel object that allows an application to perform
asynchronous signaling when a condition of interest occurs.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#concepts" id="id1">Concepts</a><ul>
<li><a class="reference internal" href="#alert-lifecycle" id="id2">Alert Lifecycle</a></li>
<li><a class="reference internal" href="#comparison-to-unix-style-signals" id="id3">Comparison to Unix-style Signals</a></li>
</ul>
</li>
<li><a class="reference internal" href="#implementation" id="id4">Implementation</a><ul>
<li><a class="reference internal" href="#defining-an-alert" id="id5">Defining an Alert</a></li>
<li><a class="reference internal" href="#signaling-an-alert" id="id6">Signaling an Alert</a></li>
<li><a class="reference internal" href="#handling-an-alert" id="id7">Handling an Alert</a></li>
<li><a class="reference internal" href="#accepting-an-alert" id="id8">Accepting an Alert</a></li>
</ul>
</li>
<li><a class="reference internal" href="#suggested-uses" id="id9">Suggested Uses</a></li>
<li><a class="reference internal" href="#configuration-options" id="id10">Configuration Options</a></li>
<li><a class="reference internal" href="#apis" id="id11">APIs</a></li>
</ul>
</div>
<div class="section" id="concepts">
<h2><a class="toc-backref" href="#id1">Concepts</a><a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h2>
<p>Any number of alerts can be defined. Each alert is referenced by
its memory address.</p>
<p>An alert has the following key properties:</p>
<ul class="simple">
<li>An <strong>alert handler</strong>, which specifies the action to be taken
when the alert is signaled. The action may instruct the system workqueue
to execute a function to process the alert, mark the alert as pending
so it can be processed later by a thread, or ignore the alert.</li>
<li>An <strong>pending count</strong>, which records the number of pending alerts
that have yet to be received.</li>
<li>An <strong>count limit</strong>, which specifies the maximum number of pending alerts
that will be recorded.</li>
</ul>
<p>An alert must be initialized before it can be used. This establishes
its alert handler and sets the pending count to zero.</p>
<div class="section" id="alert-lifecycle">
<h3><a class="toc-backref" href="#id2">Alert Lifecycle</a><a class="headerlink" href="#alert-lifecycle" title="Permalink to this headline">¶</a></h3>
<p>An ISR or a thread signals an alert by <strong>sending</strong> the alert
when a condition of interest occurs that cannot be handled by the detector.</p>
<p>Each time an alert is sent, the kernel examines its alert handler
to determine what action to take.</p>
<ul>
<li><p class="first"><code class="xref c c-macro docutils literal"><span class="pre">K_ALERT_IGNORE</span></code> causes the alert to be ignored.</p>
</li>
<li><p class="first"><code class="xref c c-macro docutils literal"><span class="pre">K_ALERT_DEFAULT</span></code> causes the pending count to be incremented,
unless this would exceed the count limit.</p>
</li>
<li><p class="first">Any other value is assumed to be the address of an alert handler function,
and is invoked by the system workqueue thread. If the function returns
zero, the signal is deemed to have been consumed; otherwise the pending
count is incremented, unless this would exceed the count limit.</p>
<p>The kernel ensures that the alert handler function is executed once
for each time an alert is sent, even if the alert is sent multiple times
in rapid succession.</p>
</li>
</ul>
<p>A thread accepts a pending alert by <strong>receiving</strong> the alert.
This decrements the pending count. If the pending count is currently zero,
the thread may choose to wait for the alert to become pending.
Any number of threads may wait for a pending alert simultaneously;
when the alert is pended it is accepted by the highest priority thread
that has waited longest.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A thread must processes pending alerts one at a time. The thread
cannot receive multiple pending alerts in a single operation.</p>
</div>
</div>
<div class="section" id="comparison-to-unix-style-signals">
<h3><a class="toc-backref" href="#id3">Comparison to Unix-style Signals</a><a class="headerlink" href="#comparison-to-unix-style-signals" title="Permalink to this headline">¶</a></h3>
<p>Zephyr alerts are somewhat akin to Unix-style signals, but have a number of
significant differences. The most notable of these are:</p>
<ul class="simple">
<li>A Zephyr alert cannot be blocked; it is always delivered to its alert
handler immediately.</li>
<li>A Zephyr alert pends <em>after</em> it has been delivered to its alert handler,
and only if an alert handler function does not consume the alert.</li>
<li>Zephyr has no predefined alerts or actions. All alerts are application
defined, and all have a default action that pends the alert.</li>
</ul>
</div>
</div>
<div class="section" id="implementation">
<h2><a class="toc-backref" href="#id4">Implementation</a><a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="defining-an-alert">
<h3><a class="toc-backref" href="#id5">Defining an Alert</a><a class="headerlink" href="#defining-an-alert" title="Permalink to this headline">¶</a></h3>
<p>An alert is defined using a variable of type <code class="xref c c-type docutils literal"><span class="pre">struct</span> <span class="pre">k_alert</span></code>.
It must then be initialized by calling <a class="reference internal" href="../../api/kernel_api.html#_CPPv212k_alert_initP7k_alert17k_alert_handler_tj" title="k_alert_init"><code class="xref cpp cpp-func docutils literal"><span class="pre">k_alert_init()</span></code></a>.</p>
<p>The following code defines and initializes an alert. The alert allows
up to 10 unreceived alert signals to pend before it begins to ignore
new pending alerts.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">extern</span> <span class="kt">int</span> <span class="nf">my_alert_handler</span><span class="p">(</span><span class="k">struct</span> <span class="n">k_alert</span> <span class="o">*</span><span class="n">alert</span><span class="p">);</span>

<span class="k">struct</span> <span class="n">k_alert</span> <span class="n">my_alert</span><span class="p">;</span>

<span class="n">k_alert_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_alert</span><span class="p">,</span> <span class="n">my_alert_handler</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</pre></div>
</div>
<p>Alternatively, an alert can be defined and initialized at compile time
by calling <a class="reference internal" href="../../api/kernel_api.html#c.K_ALERT_DEFINE" title="K_ALERT_DEFINE"><code class="xref c c-macro docutils literal"><span class="pre">K_ALERT_DEFINE</span></code></a>.</p>
<p>The following code has the same effect as the code segment above.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">extern</span> <span class="kt">int</span> <span class="nf">my_alert_handler</span><span class="p">(</span><span class="k">struct</span> <span class="n">k_alert</span> <span class="o">*</span><span class="n">alert</span><span class="p">);</span>

<span class="n">K_ALERT_DEFINE</span><span class="p">(</span><span class="n">my_alert</span><span class="p">,</span> <span class="n">my_alert_handler</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="signaling-an-alert">
<h3><a class="toc-backref" href="#id6">Signaling an Alert</a><a class="headerlink" href="#signaling-an-alert" title="Permalink to this headline">¶</a></h3>
<p>An alert is signaled by calling <a class="reference internal" href="../../api/kernel_api.html#_CPPv212k_alert_sendP7k_alert" title="k_alert_send"><code class="xref cpp cpp-func docutils literal"><span class="pre">k_alert_send()</span></code></a>.</p>
<p>The following code illustrates how an ISR can signal an alert
to indicate that a key press has occurred.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">extern</span> <span class="kt">int</span> <span class="nf">my_alert_handler</span><span class="p">(</span><span class="k">struct</span> <span class="n">k_alert</span> <span class="o">*</span><span class="n">alert</span><span class="p">);</span>

<span class="n">K_ALERT_DEFINE</span><span class="p">(</span><span class="n">my_alert</span><span class="p">,</span> <span class="n">my_alert_handler</span><span class="p">);</span>

<span class="kt">void</span> <span class="nf">keypress_interrupt_handler</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">arg</span><span class="p">)</span>
<span class="p">{</span>
    <span class="p">...</span>
    <span class="n">k_alert_send</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_alert</span><span class="p">);</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="handling-an-alert">
<h3><a class="toc-backref" href="#id7">Handling an Alert</a><a class="headerlink" href="#handling-an-alert" title="Permalink to this headline">¶</a></h3>
<p>An alert handler function is used when a signaled alert should not be ignored
or immediately pended. It has the following form:</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="o">&lt;</span><span class="n">function_name</span><span class="o">&gt;</span><span class="p">(</span><span class="k">struct</span> <span class="n">k_alert</span> <span class="o">*</span><span class="n">alert</span><span class="p">)</span>
<span class="p">{</span>
    <span class="cm">/* catch the alert signal; return zero if the signal is consumed, */</span>
    <span class="cm">/* or non-zero to let the alert pend                              */</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following code illustrates an alert handler function that processes
key presses detected by an ISR (as shown in the previous section).</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">my_alert_handler</span><span class="p">(</span><span class="k">struct</span> <span class="n">k_alert</span> <span class="o">*</span><span class="n">alert_id_is_unused</span><span class="p">)</span>
<span class="p">{</span>
    <span class="cm">/* determine what key was pressed */</span>
    <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">get_keypress</span><span class="p">();</span>

    <span class="cm">/* do complex processing of the keystroke */</span>
    <span class="p">...</span>

    <span class="cm">/* signaled alert has been consumed */</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="accepting-an-alert">
<h3><a class="toc-backref" href="#id8">Accepting an Alert</a><a class="headerlink" href="#accepting-an-alert" title="Permalink to this headline">¶</a></h3>
<p>A pending alert is accepted by a thread by calling <a class="reference internal" href="../../api/kernel_api.html#_CPPv212k_alert_recvP7k_alert5s32_t" title="k_alert_recv"><code class="xref cpp cpp-func docutils literal"><span class="pre">k_alert_recv()</span></code></a>.</p>
<p>The following code is an alternative to the code in the previous section.
It uses a dedicated thread to do very complex processing
of key presses that would otherwise monopolize the system workqueue.
The alert handler function is now used only to filter out unwanted key press
alerts, allowing the dedicated thread to wake up and process key press alerts
only when a numeric key is pressed.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">my_alert_handler</span><span class="p">(</span><span class="k">struct</span> <span class="n">k_alert</span> <span class="o">*</span><span class="n">alert_id_is_unused</span><span class="p">)</span>
<span class="p">{</span>
    <span class="cm">/* determine what key was pressed */</span>
    <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">get_keypress</span><span class="p">();</span>

    <span class="cm">/* signal thread only if key pressed was a digit */</span>
    <span class="k">if</span> <span class="p">((</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="sc">&#39;0&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">c</span> <span class="o">&lt;=</span> <span class="sc">&#39;9&#39;</span><span class="p">))</span> <span class="p">{</span>
        <span class="cm">/* save key press information */</span>
        <span class="p">...</span>
        <span class="cm">/* signaled alert should be pended */</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="cm">/* signaled alert has been consumed */</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">keypress_thread</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">unused1</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">unused2</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">unused3</span><span class="p">)</span>
<span class="p">{</span>
    <span class="cm">/* consume numeric key presses */</span>
    <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

        <span class="cm">/* wait for a key press alert to pend */</span>
        <span class="n">k_alert_recv</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_alert</span><span class="p">,</span> <span class="n">K_FOREVER</span><span class="p">);</span>

        <span class="cm">/* process saved key press, which must be a digit */</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="suggested-uses">
<h2><a class="toc-backref" href="#id9">Suggested Uses</a><a class="headerlink" href="#suggested-uses" title="Permalink to this headline">¶</a></h2>
<p>Use an alert to minimize ISR processing by deferring interrupt-related
work to a thread to reduce the amount of time interrupts are locked.</p>
<p>Use an alert to allow the kernel’s system workqueue to handle an alert,
rather than defining an application thread to handle it.</p>
<p>Use an alert to allow the kernel’s system workqueue to preprocess an alert,
prior to letting an application thread handle it.</p>
</div>
<div class="section" id="configuration-options">
<h2><a class="toc-backref" href="#id10">Configuration Options</a><a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h2>
<p>Related configuration options:</p>
<ul class="simple">
<li>None.</li>
</ul>
</div>
<div class="section" id="apis">
<h2><a class="toc-backref" href="#id11">APIs</a><a class="headerlink" href="#apis" title="Permalink to this headline">¶</a></h2>
<p>The following alert APIs are provided by <code class="file docutils literal"><span class="pre">kernel.h</span></code>:</p>
<ul class="simple">
<li><a class="reference internal" href="../../api/kernel_api.html#c.K_ALERT_DEFINE" title="K_ALERT_DEFINE"><code class="xref c c-macro docutils literal"><span class="pre">K_ALERT_DEFINE</span></code></a></li>
<li><a class="reference internal" href="../../api/kernel_api.html#_CPPv212k_alert_initP7k_alert17k_alert_handler_tj" title="k_alert_init"><code class="xref cpp cpp-func docutils literal"><span class="pre">k_alert_init()</span></code></a></li>
<li><a class="reference internal" href="../../api/kernel_api.html#_CPPv212k_alert_sendP7k_alert" title="k_alert_send"><code class="xref cpp cpp-func docutils literal"><span class="pre">k_alert_send()</span></code></a></li>
<li><a class="reference internal" href="../../api/kernel_api.html#_CPPv212k_alert_recvP7k_alert5s32_t" title="k_alert_recv"><code class="xref cpp cpp-func docutils literal"><span class="pre">k_alert_recv()</span></code></a></li>
</ul>
</div>
</div>


                </div>
              </div>
              <!-- 
  <div class="rst-footer-buttons row" role="navigation" aria-label="footer navigation">
    
      <a href="../data_passing/data_passing.html" class="btn btn-neutral float-right" title="Data Passing" accesskey="n">
        Next <span class="fa fa-arrow-circle-right"></span>
      </a>
    
    
      <a href="mutexes.html" class="btn btn-neutral" title="Mutexes" accesskey="p">
        <span class="fa fa-arrow-circle-left"></span> Previous
      </a>
    
  </div>
  for ZEP-463 remove the prev/next links -->
            </div>
            <!-- ENDS #content SECTION -->
          </section>
          <!-- ENDS .content -->
        </div>
        <!-- ENDS .main-container -->
      </div>
      <!-- ENDS #main -->
      <footer id="footer">
  <div class="container">
    <div class="block block-menu block-odd first block" data-bid="menu-footer-menu">
      <h3 class="title">Footer Menu</h3>
      <ul class="menu">
        <li class="leaf google- mid-2404">
          <a href="https://plus.google.com/+ZephyrProject" class="google-plus"><span>Google+</span></a>
        </li>
        <li class="leaf twitter mid-2405">
          <a href="https://twitter.com/zephyriot" class="twitter"><span>Twitter</span></a>
        </li>
        <li class="last leaf email mid-2406">
          <a href="mailto:info@zephyrproject.org" class="email"><span>Email</span></a>
        </li>
      </ul>
    </div>
    <div class="block block-block block-even block" data-bid="block-4">
      <p>
        Zephyr Project © 2018 is a Linux Foundation Project. All Rights Reserved.
      </p>
      <p>
        <a href="https://linuxfoundation.org" target="_blank">Linux Foundation</a> is a registered trademark of The Linux Foundation. Linux is a registered <a href="https://www.linuxfoundation.org/about/linux-foundation-trademark-usage-guidelines" target="_blank">trademark</a> of Linus Torvalds.
      </p>
      <p>
        Please see our <a href="https://www.linuxfoundation.org/privacy" target="_blank">privacy policy</a> and <a href="https://www.linuxfoundation.org/terms" target="_blank">terms of use</a>
      </p>
    </div>
  </div>
</footer>
    </div>
    <!-- ENDS #page -->

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.10.99',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/js/main.js"></script>
      <script type="text/javascript" src="../../_static/js/app.js"></script>
      <script type="text/javascript" src="../../_static/js/affix.js"></script>

   

  </body>
</html>