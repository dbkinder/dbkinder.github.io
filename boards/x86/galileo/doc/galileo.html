

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" > <!--<![endif]-->
  <head>
    <meta charset="utf-8">
   <!-- Google Tag Manager -->
   <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
   new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
   })(window,document,'script','dataLayer','GTM-KMP8MS');</script>
   <!-- End Google Tag Manager -->
    <link rel="apple-touch-icon" sizes="57x57" href="../../../../_static/img/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../../../../_static/img/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../../../../_static/img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../../../../_static/img/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../../../../_static/img/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../../../../_static/img/apple-touch-icon-120x120.png">
    <link rel="icon" type="image/png" href="../../../../_static/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../../../_static/img/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="../../../../_static/img/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="../../../../_static/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Zephyr Project">
    <meta name="application-name" content="Zephyr Project">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    
    <title>Galileo Gen1/Gen2 &mdash; Zephyr Project Documentation</title>
    

    
    

    

    
    
      
    

    
    
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
    

    
      <link rel="stylesheet" href="../../../../_static/zephyr-custom.css" type="text/css" />
    
      <link rel="stylesheet" href="../../../../_static/css/normalize.css" type="text/css" />
    
      <link rel="stylesheet" href="../../../../_static/css/layout.css" type="text/css" />
    
      <link rel="stylesheet" href="../../../../_static/css/main.css" type="text/css" />
    
      <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
    

    
        <link rel="index" title="Index" href="../../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../../search.html"/>
        <link rel="copyright" title="Copyright" href="../../../../copyright.html"/>
      <link rel="top" title="Zephyr Project Documentation" href="../../../../index.html"/>
        <link rel="up" title="x86 Boards" href="../../index.html"/>
        <link rel="next" title="MinnowBoard Max" href="../../minnowboard/doc/minnowboard.html"/>
        <link rel="prev" title="Arduino/Genuino 101" href="../../arduino_101/doc/board.html"/> 

    
    <script src="../../../../_static/js/modernizr.min.js"></script>

  </head>

  <body class="not-front page-documentation one-sidebar sidebar-first" role="document" >
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KMP8MS"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="page">
      <header id="header">
  <div class="header-wrapper">
    <div class="container">
      <a href="https://zephyrproject.org/" title="Zephyr Project" rel="home" id="logo">
        <img src="../../../../_static/img/logo_white.png" alt="Zephyr Project">
      </a>
      <a href="" id="navigation-toggle">
        <span> </span>
        Menu
      </a>
      <nav id="navigation" class="menu with-primary with-secondary">
        <ul class="header-menu main-menu">
          <li class="first expanded about mid-1209"><a href="https://zephyrproject.org/about/"><span>About</span></a>
            <ul class="menu">
              <li class="first leaf what-is-zephyr mid-2563"><a href="https://zephyrproject.org/what-is-zephyr/"><span>What is the Zephyr Project?</span></a></li>
              <li class="leaf organization mid-2564"><a href="https://zephyrproject.org/about/organization/"><span>Organization</span></a></li>
              <li class="leaf memberships mid-2532"><a href="https://zephyrproject.org/#members"><span>Members</span></a></li>
              <li class="leaf faq mid-2525"><a href="https://zephyrproject.org/about/#faq"><span>FAQ</span></a></li>
              <li class="leaf join mid-2622"><a href="https://zephyrproject.org/join/"><span>Join</span></a></li>
              <li class="last leaf contact-us mid-2530"><a href="https://zephyrproject.org/about/#contact-us"><span>Contact Us</span></a></li>
            </ul>
          </li>
          <li class="expanded developers mid-1209"><a href="https://zephyrproject.org/developers/"><span>Developers</span></a>
            <ul class="menu">
              <li class="first expanded leaf code mid-2563"><a href="https://github.com/zephyrproject-rtos/zephyr/" target="_blank"><span>Code</span></a></li>
              <li class="leaf downloads mid-2564"><a href="https://zephyrproject.org/developers/#downloads"><span>Downloads</span></a></li>
              <li class="leaf documentation mid-2564"><a href="http://docs.zephyrproject.org/index.html" target="_blank"><span>Documentation</span></a></li>
              <li class="leaf supported-boards mid-2564"><a href="http://docs.zephyrproject.org/boards/boards.html" target="_blank"><span>Supported Boards</span></a></li>
              <li class="leaf releases-overview mid-2564"><a href="https://zephyrproject.org/developers/#releases-overview"><span>Releases Overview</span></a></li>
              <li class="leaf how-to-contribute mid-2564"><a href="https://zephyrproject.org/developers/how-to-contribute/"><span>How to Contribute</span></a></li>
              <li class="last leaf community-guidelines mid-2564"><a href="https://zephyrproject.org/developers/how-to-contribute/#community-guidelines"><span>Community Guidelines</span></a></li>
            </ul>
          </li>
          <li class="expanded news mid-1209"><a href="https://zephyrproject.org/news/"><span>News</span></a>
            <ul class="menu">
              <li class="first leaf announcements mid-2563"><a href="https://zephyrproject.org/news/announcements/"><span>Announcements</span></a></li>
              <li class="leaf blog mid-2563"><a href="https://zephyrproject.org/news/blog/"><span>Blog</span></a></li>
              <li class="last leaf events mid-2563"><a href="https://zephyrproject.org/events/"><span>Events</span></a></li>
            </ul>
          </li>
          <li class="last expanded project-resources mid-1209"><a href="https://zephyrproject.org/project-resources/"><span>Project Resources</span></a>
            <ul class="menu">
              <li class="first leaf presentations mid-2563"><a href="https://zephyrproject.org/project-resources/presentations/"><span>Presentations</span></a></li>
              <li class="leaf videos mid-2563"><a href="https://zephyrproject.org/project-resources/videos/"><span>Videos</span></a></li>
              <li class="leaf demos mid-2563"><a href="https://zephyrproject.org/project-resources/demos/"><span>Demos</span></a></li>
              <li class="leaf zephyr-in-market mid-2563"><a href="https://zephyrproject.org/project-resources/zephyr-in-market/"><span>Zephyr in Market</span></a></li>
              <li class="last leaf developer-tools mid-2563"><a href="https://zephyrproject.org/project-resources/developer-tools/"><span>Developer Tools</span></a></li>
            </ul>
          </li>
        </ul>
      </nav><!-- /navigation -->
    </div>
  </div>
</header><!-- /header -->
      <!-- STARTS #main -->
      <div id="main">
        <!-- STARTS .main-container -->
        <div class="main-container">
          

 



<!-- Docs -->





<div id="breadcrumb">
  <div class="container">
    <a href="/">Home</a> / 
    <a href="../../../../index.html">Docs</a> /
      
          <a href="../../../boards.html">Supported Boards</a> /
      
          <a href="../../index.html">x86 Boards</a> /
      
  </div>
</div>
          <aside id="sidebar-first" class="container-sidebar">
            
            <span id="secondary-menu-button" class="">Documentation</span>
<div class="region region-sidebar">
  <div class="docs-menu">
  
    
    
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/introducing_zephyr.html">Introducing Zephyr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_started/getting_started.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute/contribute.html">Contributing to the Zephyr Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../kernel/kernel.html">Zephyr Kernel Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../security/security.html">Zephyr Project Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../application/index.html">Developer Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../boards.html">Supported Boards</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">x86 Boards</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../arduino_101/doc/board.html">Arduino/Genuino 101</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Galileo Gen1/Gen2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../minnowboard/doc/minnowboard.html">MinnowBoard Max</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qemu_x86/doc/board.html">X86 Emulation (QEMU)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../quark_d2000_crb/doc/quark_d2000_crb.html">Quark D2000 Development Board</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tinytile/doc/board.html">tinyTILE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../x86_jailhouse/doc/board.html">Jailhouse cell X86 Emulation (QEMU)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../arm/index.html">ARM Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../arc/index.html">ARC Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nios2/index.html">NIOS II Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../xtensa/index.html">XTENSA Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../posix/index.html">Native POSIX Boards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../devices/index.html">Device and Driver Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../subsystems/subsystems.html">Subsystems</a></li>
</ul>

    
  
  </div>
<div role="search" class="sphinx-search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search documentation" class="search-documentation" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</div>
          </aside>
          <!-- STARTS .content SECTION-->
          <section id="content" class="row">
            
	    
            <div class="rst-content">
              <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                <div itemprop="articleBody">
                  
  <div class="section" id="galileo-gen1-gen2">
<span id="galileo"></span><h1>Galileo Gen1/Gen2<a class="headerlink" href="#galileo-gen1-gen2" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This board configuration enables kernel support for the board’s Intel® Quark™ SoC,
along with the following devices:</p>
<ul class="simple">
<li>High Precision Event Timer (HPET)</li>
<li>Peripheral Component Interconnect (PCI) bus query</li>
<li>Serial Ports in Polling and Interrupt Driven Modes</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This board configuration may work with similar boards that are not officially
supported.</p>
</div>
</div>
<div class="section" id="hardware">
<h2>Hardware<a class="headerlink" href="#hardware" title="Permalink to this headline">¶</a></h2>
<p>This section provides information about the physical characteristics of the
board.
Subsections contain detailed information on pin names, jumper settings, memory
mappings, and board component layout.</p>
<div class="section" id="supported-features">
<h3>Supported Features<a class="headerlink" href="#supported-features" title="Permalink to this headline">¶</a></h3>
<p>This board supports the following hardware features:</p>
<ul class="simple">
<li>HPET</li>
<li>PCI bus</li>
<li>Advanced Programmed Interrupt Controller (APIC)</li>
<li>Serial Ports in Polling and Interrupt Driven Modes</li>
<li>Ethernet in Interrupt Driven Mode</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="26%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Interface</th>
<th class="head">Controller</th>
<th class="head">Driver/Component</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>HPET</td>
<td>on-chip</td>
<td>system clock</td>
</tr>
<tr class="row-odd"><td>PCI</td>
<td>on-chip</td>
<td>PCI library</td>
</tr>
<tr class="row-even"><td>APIC</td>
<td>on-chip</td>
<td>interrupt controller</td>
</tr>
<tr class="row-odd"><td>UART</td>
<td>on-chip</td>
<td>serial port-polling;
serial port-interrupt</td>
</tr>
<tr class="row-even"><td>Ethernet</td>
<td>on-chip</td>
<td>Ethernet</td>
</tr>
</tbody>
</table>
<p>The kernel currently does not support other hardware features.
See the <a class="reference external" href="http://caxapa.ru/thumbs/497461/Intel_Quark_Core_HWRefMan_001.pdf">Intel |reg| Quark Core Hardware Reference Manual</a> for a
complete list of Galileo board hardware features, and the
<a class="reference external" href="http://www.intel.com/content/dam/www/public/us/en/documents/manuals/quark-x1000-linux-sw-developers-manual.pdf">Intel |reg| Quark Software Developer Manual for Linux</a></p>
<div class="section" id="pci">
<h4>PCI<a class="headerlink" href="#pci" title="Permalink to this headline">¶</a></h4>
<p>PCI drivers assume that IO regions and IRQs for devices are
preconfigured identically by the firmware on all supported devices.
This configuration is specified in the Kconfig file for the Intel
Quark X1000 SoC.  The PCI library supports dynamically enumerating PCI
devices, but that support is disabled by default.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The PCI library does not support 64-bit devices.
Memory address and size storage only require 32-bit integers.</p>
</div>
</div>
<div class="section" id="serial-port-polling-mode-support">
<h4>Serial Port Polling Mode Support<a class="headerlink" href="#serial-port-polling-mode-support" title="Permalink to this headline">¶</a></h4>
<p>The polling mode serial port allows debug output to be printed.</p>
<p>For more information, see <a class="reference external" href="https://communities.intel.com/servlet/JiveServlet/previewBody/21828-102-2-25120/329676_QuarkDatasheet.pdf">Intel |reg| Quark SoC X1000 Datasheet</a>,
section 18.3.3 FIFO Polled-Mode Operation</p>
</div>
<div class="section" id="serial-port-interrupt-mode-support">
<h4>Serial Port Interrupt Mode Support<a class="headerlink" href="#serial-port-interrupt-mode-support" title="Permalink to this headline">¶</a></h4>
<p>The interrupt mode serial port provides general serial communication
and external communication.</p>
<p>For more information, see <a class="reference external" href="https://communities.intel.com/servlet/JiveServlet/previewBody/21828-102-2-25120/329676_QuarkDatasheet.pdf">Intel |reg| Quark SoC X1000 Datasheet</a>, section 21.12.1.4.5 Poll Mode</p>
</div>
<div class="section" id="interrupt-controller">
<h4>Interrupt Controller<a class="headerlink" href="#interrupt-controller" title="Permalink to this headline">¶</a></h4>
<p>This board uses the kernel’s static Interrupt Descriptor Table (IDT) to program the
Advanced Programmable Interrupt Controller (APIC) interrupt redirection table.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="15%" />
<col width="19%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">IRQ</th>
<th class="head">Name</th>
<th class="head">Remarks</th>
<th class="head">Used by Zephyr Kernel</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>17</td>
<td>INTB</td>
<td>UART</td>
<td>serial port when used in
interrupt mode</td>
</tr>
<tr class="row-odd"><td>20</td>
<td>timer</td>
<td>HPET</td>
<td>timer driver</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hpet-system-clock-support">
<h4>HPET System Clock Support<a class="headerlink" href="#hpet-system-clock-support" title="Permalink to this headline">¶</a></h4>
<p>Galileo uses HPET timing with legacy-free timer support. The Galileo board
configuration uses HPET as a system clock timer.</p>
</div>
<div class="section" id="ethernet-support">
<h4>Ethernet Support<a class="headerlink" href="#ethernet-support" title="Permalink to this headline">¶</a></h4>
<p>The Ethernet driver allocates a Direct Memory Access (DMA)-accessible
pair of receive and transmit buffers and descriptors.  The driver
operates the network interface in store-and-forward mode and enables
the receive interrupt.</p>
<p>For more information, see <a class="reference external" href="https://communities.intel.com/servlet/JiveServlet/previewBody/21828-102-2-25120/329676_QuarkDatasheet.pdf">Intel |reg| Quark SoC X1000 Datasheet</a>,
section 15.0 10/100 Mbps Ethernet</p>
</div>
</div>
<div class="section" id="connections-and-ios">
<h3>Connections and IOs<a class="headerlink" href="#connections-and-ios" title="Permalink to this headline">¶</a></h3>
<p>For a component layout diagram showing pin names, see page 46 of the
<a class="reference external" href="https://communities.intel.com/servlet/JiveServlet/previewBody/21828-102-2-25120/329676_QuarkDatasheet.pdf">Intel |reg| Quark SoC X1000 Datasheet</a>.</p>
<p>See also the <a class="reference external" href="https://www.intel.com/content/dam/support/us/en/documents/galileo/sb/galileo_datasheet_329681_003.pdf">Intel |reg| Galileo Datasheet</a>.</p>
<p>For the Galileo Board Connection Diagram see page 9 of the <a class="reference external" href="http://download.intel.com/support/galileo/sb/galileo_boarduserguide_330237_001.pdf">Intel |reg| Galileo Board User Guide</a>.</p>
</div>
<div class="section" id="jumpers-switches">
<h3>Jumpers &amp; Switches<a class="headerlink" href="#jumpers-switches" title="Permalink to this headline">¶</a></h3>
<p>The kernel uses the Galileo default jumper settings except for the IOREF jumper,
which must be set to match the external operating voltage of either 3.3 V or 5 V.</p>
<p>The Galileo default switch settings are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Jumper</th>
<th class="head">Setting</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>IOREF</td>
<td>3.3V or 5V</td>
</tr>
<tr class="row-odd"><td>VIN</td>
<td>5V  Jumpered</td>
</tr>
</tbody>
</table>
<p>For more information, see page 14 of the
<a class="reference external" href="http://download.intel.com/support/galileo/sb/galileo_boarduserguide_330237_001.pdf">Intel |reg| Galileo Board User Guide</a>.</p>
</div>
<div class="section" id="memory-mappings">
<h3>Memory Mappings<a class="headerlink" href="#memory-mappings" title="Permalink to this headline">¶</a></h3>
<p>This board configuration uses default hardware memory map
addresses and sizes.</p>
<p>For a list of memory mapped registers, see page 868 of the
<a class="reference external" href="https://communities.intel.com/servlet/JiveServlet/previewBody/21828-102-2-25120/329676_QuarkDatasheet.pdf">Intel |reg| Quark SoC X1000 Datasheet</a>.</p>
</div>
<div class="section" id="component-layout">
<h3>Component Layout<a class="headerlink" href="#component-layout" title="Permalink to this headline">¶</a></h3>
<p>See page 3 of the Intel® Galileo Datasheet for a component layout
diagram. Click the link to open the <a class="reference external" href="https://www.intel.com/content/dam/support/us/en/documents/galileo/sb/galileo_datasheet_329681_003.pdf">Intel |reg| Galileo Datasheet</a>.</p>
<p>For a block diagram, see page 38 of the <a class="reference external" href="https://communities.intel.com/servlet/JiveServlet/previewBody/21828-102-2-25120/329676_QuarkDatasheet.pdf">Intel |reg| Quark SoC X1000 Datasheet</a>.</p>
</div>
</div>
<div class="section" id="programming-and-debugging">
<h2>Programming and Debugging<a class="headerlink" href="#programming-and-debugging" title="Permalink to this headline">¶</a></h2>
<p>Use the following procedures for booting an image on a Galileo board.</p>
<ul class="simple">
<li><a class="reference internal" href="#creating-a-grub2-boot-loader-image-from-a-linux-host">Creating a GRUB2 Boot Loader Image from a Linux Host</a></li>
<li><a class="reference internal" href="#preparing-the-boot-device">Preparing the Boot Device</a></li>
<li><a class="reference internal" href="#booting-the-galileo-board">Booting the Galileo Board</a></li>
</ul>
<div class="section" id="creating-a-grub2-boot-loader-image-from-a-linux-host">
<h3>Creating a GRUB2 Boot Loader Image from a Linux Host<a class="headerlink" href="#creating-a-grub2-boot-loader-image-from-a-linux-host" title="Permalink to this headline">¶</a></h3>
<p>If you are having problems running an application using the default GRUB
of the hardware, follow these steps to test on Galileo2 boards using a custom
GRUB.</p>
<ol class="arabic">
<li><p class="first">Install the requirements to build GRUB on your host machine.</p>
<p>On Ubuntu, type:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo apt-get install bison autoconf libopts25-dev flex automake
</pre></div>
</div>
<p>On Fedora, type:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo dnf install gnu-efi bison m4 autoconf help2man flex <span class="se">\</span>
   automake texinfo
</pre></div>
</div>
</li>
<li><p class="first">Clone and build the GRUB repository using the script in Zephyr tree, type:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> <span class="nv">$ZEPHYR_BASE</span>
<span class="gp">$</span> ./boards/x86/galileo/support/build_grub.sh
</pre></div>
</div>
</li>
<li><p class="first">Find the binary at
<code class="file docutils literal"><span class="pre">$ZEPHYR_BASE/./boards/x86/galileo/support/grub/bin/grub.efi</span></code>.</p>
</li>
</ol>
</div>
<div class="section" id="preparing-the-boot-device">
<h3>Preparing the Boot Device<a class="headerlink" href="#preparing-the-boot-device" title="Permalink to this headline">¶</a></h3>
<p>Prepare either an SD-micro card or USB flash drive to boot the Zephyr
application image on a Galileo board. The following instructions apply to both
devices.</p>
<ol class="arabic">
<li><p class="first">Build a Zephyr application; for instance, to build the <code class="docutils literal"><span class="pre">hello_world</span></code>
application:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> <span class="nv">$ZEPHYR_BASE</span>/samples/hello_world

<span class="gp">#</span> Make a build directory, and use cmake to configure a Make-based build system:
<span class="gp">$</span> mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
<span class="gp">$</span> cmake -DBOARD<span class="o">=</span>galileo ..

<span class="gp">#</span> Now run make on the generated build system:
<span class="gp">$</span> make
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A stripped project image file named <code class="file docutils literal"><span class="pre">zephyr.strip</span></code> is automatically
created in the build directory after the application is built. This image
has removed debug information from the <code class="file docutils literal"><span class="pre">zephyr.elf</span></code> file.</p>
</div>
</li>
<li><p class="first">Use one of these cables for serial output:</p>
<p><a class="reference external" href="http://www.ftdichip.com/Products/Cables/USBTTLSerial.htm">http://www.ftdichip.com/Products/Cables/USBTTLSerial.htm</a></p>
</li>
<li><p class="first">Format a microSD as FAT</p>
</li>
<li><p class="first">Create the following directories</p>
<p><code class="file docutils literal"><span class="pre">efi</span></code></p>
<p><code class="file docutils literal"><span class="pre">efi/boot</span></code></p>
<p><code class="file docutils literal"><span class="pre">kernel</span></code></p>
</li>
<li><p class="first">Copy the kernel file <code class="file docutils literal"><span class="pre">outdir/galileo/zephyr.strip</span></code> to the <code class="file docutils literal"><span class="pre">$SDCARD/kernel</span></code> folder.</p>
</li>
<li><p class="first">Copy your built version of GRUB to <code class="file docutils literal"><span class="pre">$SDCARD/efi/boot/bootia32.efi</span></code></p>
</li>
<li><p class="first">Create <code class="file docutils literal"><span class="pre">$SDCARD/efi/boot/grub.cfg</span></code> containing the following:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">set default=0</span>
<span class="go">set timeout=10</span>

<span class="go">menuentry &quot;Zephyr Kernel&quot; {</span>
<span class="go">   multiboot /kernel/zephyr.strip</span>
<span class="go">}</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="booting-the-galileo-board">
<h3>Booting the Galileo Board<a class="headerlink" href="#booting-the-galileo-board" title="Permalink to this headline">¶</a></h3>
<p>Boot the Galileo board from the boot device using GRUB2
with the firmware present in the on-board flash.</p>
<div class="section" id="steps">
<h4>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Insert the prepared boot device (micro-SD card or USB flash
drive) into the Galileo board.</p>
</li>
<li><p class="first">Connect the board to the host system using the serial cable and
configure your host system to watch for serial data.  See
<a class="reference external" href="https://software.intel.com/en-us/articles/intel-galileo-gen-2-board-assembly-using-eclipse-and-intel-xdk-iot-edition">https://software.intel.com/en-us/articles/intel-galileo-gen-2-board-assembly-using-eclipse-and-intel-xdk-iot-edition</a>
for the gen. 2 board,
<a class="reference external" href="https://software.intel.com/en-us/articles/intel-galileo-gen-1-board-assembly-using-eclipse-and-intel-xdk-iot-edition">https://software.intel.com/en-us/articles/intel-galileo-gen-1-board-assembly-using-eclipse-and-intel-xdk-iot-edition</a>
for the gen. 1 board, or the Getting Started guide that you
received with the board.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On Windows, PuTTY has an option to set up configuration for
serial data.  Use a baud rate of 115200 and the SCO keyboard
mode.  The keyboard mode option is in a submenu of the Terminal
menu on the left side of the screen.</p>
</div>
</li>
<li><p class="first">Power on the Galileo board.</p>
</li>
<li><p class="first">When the following output appears, press <code class="kbd docutils literal"><span class="pre">F7</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Press [Enter] to directly boot.</span>
<span class="go">Press [F7]    to show boot menu options.</span>
</pre></div>
</div>
</li>
<li><p class="first">From the menu that appears, select <span class="guilabel">UEFI Misc Device</span> to
boot from a micro-SD card.  To boot from a USB flash drive, select
the menu entry that describes that particular type of USB flash
drive.</p>
<p>GRUB2 starts and a menu shows entries for the items you added
to the file <code class="file docutils literal"><span class="pre">grub.cfg</span></code>.</p>
</li>
<li><p class="first">Select the image you want to boot and press <span class="guilabel">Enter</span>.</p>
<p>When the boot process completes, you have finished booting the
Zephyr application image.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If the following messages appear during boot, they can be safely
ignored.</p>
<div class="last highlight-console"><div class="highlight"><pre><span></span><span class="go">WARNING: no console will be available to OS</span>
<span class="go">error: no suitable video mode found.</span>
</pre></div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="known-problems-and-limitations">
<h2>Known Problems and Limitations<a class="headerlink" href="#known-problems-and-limitations" title="Permalink to this headline">¶</a></h2>
<p>At this time, the kernel does not support the following:</p>
<ul class="simple">
<li>Isolated Memory Regions</li>
<li>Serial port in Direct Memory Access (DMA) mode</li>
<li>Supervisor Mode Execution Protection (SMEP)</li>
</ul>
</div>
<div class="section" id="bibliography">
<h2>Bibliography<a class="headerlink" href="#bibliography" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><a class="reference external" href="https://www.intel.com/content/dam/support/us/en/documents/galileo/sb/galileo_datasheet_329681_003.pdf">Intel |reg| Galileo Datasheet</a>, Order Number: 329681-003US</li>
</ol>
<ol class="arabic simple" start="2">
<li><a class="reference external" href="http://download.intel.com/support/galileo/sb/galileo_boarduserguide_330237_001.pdf">Intel |reg| Galileo Board User Guide</a>.</li>
</ol>
<ol class="arabic simple" start="3">
<li><a class="reference external" href="https://communities.intel.com/servlet/JiveServlet/previewBody/21828-102-2-25120/329676_QuarkDatasheet.pdf">Intel |reg| Quark SoC X1000 Datasheet</a>, Order Number: 329676-001US</li>
</ol>
<ol class="arabic simple" start="4">
<li><a class="reference external" href="http://caxapa.ru/thumbs/497461/Intel_Quark_Core_HWRefMan_001.pdf">Intel |reg| Quark Core Hardware Reference Manual</a>.</li>
</ol>
<ol class="arabic simple" start="5">
<li><a class="reference external" href="http://www.intel.com/content/dam/www/public/us/en/documents/manuals/quark-x1000-linux-sw-developers-manual.pdf">Intel |reg| Quark Software Developer Manual for Linux</a>.</li>
</ol>
</div>
</div>


                </div>
              </div>
              <!-- 
  <div class="rst-footer-buttons row" role="navigation" aria-label="footer navigation">
    
      <a href="../../minnowboard/doc/minnowboard.html" class="btn btn-neutral float-right" title="MinnowBoard Max" accesskey="n">
        Next <span class="fa fa-arrow-circle-right"></span>
      </a>
    
    
      <a href="../../arduino_101/doc/board.html" class="btn btn-neutral" title="Arduino/Genuino 101" accesskey="p">
        <span class="fa fa-arrow-circle-left"></span> Previous
      </a>
    
  </div>
  for ZEP-463 remove the prev/next links -->
            </div>
            <!-- ENDS #content SECTION -->
          </section>
          <!-- ENDS .content -->
        </div>
        <!-- ENDS .main-container -->
      </div>
      <!-- ENDS #main -->
      <footer id="footer">
  <div class="container">
    <div class="block block-menu block-odd first block" data-bid="menu-footer-menu">
      <h3 class="title">Footer Menu</h3>
      <ul class="menu">
        <li class="leaf google- mid-2404">
          <a href="https://plus.google.com/+ZephyrProject" class="google-plus"><span>Google+</span></a>
        </li>
        <li class="leaf twitter mid-2405">
          <a href="https://twitter.com/zephyriot" class="twitter"><span>Twitter</span></a>
        </li>
        <li class="last leaf email mid-2406">
          <a href="mailto:info@zephyrproject.org" class="email"><span>Email</span></a>
        </li>
      </ul>
    </div>
    <div class="block block-block block-even block" data-bid="block-4">
      <p>
        Zephyr Project © 2018 is a Linux Foundation Project. All Rights Reserved.
      </p>
      <p>
        <a href="https://linuxfoundation.org" target="_blank">Linux Foundation</a> is a registered trademark of The Linux Foundation. Linux is a registered <a href="https://www.linuxfoundation.org/about/linux-foundation-trademark-usage-guidelines" target="_blank">trademark</a> of Linus Torvalds.
      </p>
      <p>
        Please see our <a href="https://www.linuxfoundation.org/privacy" target="_blank">privacy policy</a> and <a href="https://www.linuxfoundation.org/terms" target="_blank">terms of use</a>
      </p>
    </div>
  </div>
</footer>
    </div>
    <!-- ENDS #page -->

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'1.10.99',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/js/main.js"></script>
      <script type="text/javascript" src="../../../../_static/js/app.js"></script>
      <script type="text/javascript" src="../../../../_static/js/affix.js"></script>

   

  </body>
</html>