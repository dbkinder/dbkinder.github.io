

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" > <!--<![endif]-->
  <head>
    <meta charset="utf-8">
   <!-- Google Tag Manager -->
   <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
   new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
   })(window,document,'script','dataLayer','GTM-KMP8MS');</script>
   <!-- End Google Tag Manager -->
    <link rel="apple-touch-icon" sizes="57x57" href="../../../../_static/img/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../../../../_static/img/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../../../../_static/img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../../../../_static/img/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../../../../_static/img/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../../../../_static/img/apple-touch-icon-120x120.png">
    <link rel="icon" type="image/png" href="../../../../_static/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../../../_static/img/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="../../../../_static/img/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="../../../../_static/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Zephyr Project">
    <meta name="application-name" content="Zephyr Project">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    
    <title>96Boards Carbon &mdash; Zephyr Project Documentation</title>
    

    
    

    

    
    
      
    

    
    
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
    

    
      <link rel="stylesheet" href="../../../../_static/zephyr-custom.css" type="text/css" />
    
      <link rel="stylesheet" href="../../../../_static/css/normalize.css" type="text/css" />
    
      <link rel="stylesheet" href="../../../../_static/css/layout.css" type="text/css" />
    
      <link rel="stylesheet" href="../../../../_static/css/main.css" type="text/css" />
    
      <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
    

    
        <link rel="index" title="Index" href="../../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../../search.html"/>
        <link rel="copyright" title="Copyright" href="../../../../copyright.html"/>
      <link rel="top" title="Zephyr Project Documentation" href="../../../../index.html"/>
        <link rel="up" title="ARM Boards" href="../../index.html"/>
        <link rel="next" title="96Boards Carbon nRF51" href="../../96b_carbon_nrf51/doc/96b_carbon_nrf51.html"/>
        <link rel="prev" title="ARM Boards" href="../../index.html"/> 

    
    <script src="../../../../_static/js/modernizr.min.js"></script>

  </head>

  <body class="not-front page-documentation one-sidebar sidebar-first" role="document" >
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KMP8MS"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="page">
      <header id="header">
  <div class="header-wrapper">
    <div class="container">
      <a href="https://zephyrproject.org/" title="Zephyr Project" rel="home" id="logo">
        <img src="../../../../_static/img/logo_white.png" alt="Zephyr Project">
      </a>
      <a href="" id="navigation-toggle">
        <span> </span>
        Menu
      </a>
      <nav id="navigation" class="menu with-primary with-secondary">
        <ul class="header-menu main-menu">
          <li class="first expanded about mid-1209"><a href="https://zephyrproject.org/about/"><span>About</span></a>
            <ul class="menu">
              <li class="first leaf what-is-zephyr mid-2563"><a href="https://zephyrproject.org/what-is-zephyr/"><span>What is the Zephyr Project?</span></a></li>
              <li class="leaf organization mid-2564"><a href="https://zephyrproject.org/about/organization/"><span>Organization</span></a></li>
              <li class="leaf memberships mid-2532"><a href="https://zephyrproject.org/#members"><span>Members</span></a></li>
              <li class="leaf faq mid-2525"><a href="https://zephyrproject.org/about/#faq"><span>FAQ</span></a></li>
              <li class="leaf join mid-2622"><a href="https://zephyrproject.org/join/"><span>Join</span></a></li>
              <li class="last leaf contact-us mid-2530"><a href="https://zephyrproject.org/about/#contact-us"><span>Contact Us</span></a></li>
            </ul>
          </li>
          <li class="expanded developers mid-1209"><a href="https://zephyrproject.org/developers/"><span>Developers</span></a>
            <ul class="menu">
              <li class="first expanded leaf code mid-2563"><a href="https://github.com/zephyrproject-rtos/zephyr/" target="_blank"><span>Code</span></a></li>
              <li class="leaf downloads mid-2564"><a href="https://zephyrproject.org/developers/#downloads"><span>Downloads</span></a></li>
              <li class="leaf documentation mid-2564"><a href="http://docs.zephyrproject.org/index.html" target="_blank"><span>Documentation</span></a></li>
              <li class="leaf supported-boards mid-2564"><a href="http://docs.zephyrproject.org/boards/boards.html" target="_blank"><span>Supported Boards</span></a></li>
              <li class="leaf releases-overview mid-2564"><a href="https://zephyrproject.org/developers/#releases-overview"><span>Releases Overview</span></a></li>
              <li class="leaf how-to-contribute mid-2564"><a href="https://zephyrproject.org/developers/how-to-contribute/"><span>How to Contribute</span></a></li>
              <li class="last leaf community-guidelines mid-2564"><a href="https://zephyrproject.org/developers/how-to-contribute/#community-guidelines"><span>Community Guidelines</span></a></li>
            </ul>
          </li>
          <li class="expanded news mid-1209"><a href="https://zephyrproject.org/news/"><span>News</span></a>
            <ul class="menu">
              <li class="first leaf announcements mid-2563"><a href="https://zephyrproject.org/news/announcements/"><span>Announcements</span></a></li>
              <li class="leaf blog mid-2563"><a href="https://zephyrproject.org/news/blog/"><span>Blog</span></a></li>
              <li class="last leaf events mid-2563"><a href="https://zephyrproject.org/events/"><span>Events</span></a></li>
            </ul>
          </li>
          <li class="last expanded project-resources mid-1209"><a href="https://zephyrproject.org/project-resources/"><span>Project Resources</span></a>
            <ul class="menu">
              <li class="first leaf presentations mid-2563"><a href="https://zephyrproject.org/project-resources/presentations/"><span>Presentations</span></a></li>
              <li class="leaf videos mid-2563"><a href="https://zephyrproject.org/project-resources/videos/"><span>Videos</span></a></li>
              <li class="leaf demos mid-2563"><a href="https://zephyrproject.org/project-resources/demos/"><span>Demos</span></a></li>
              <li class="leaf zephyr-in-market mid-2563"><a href="https://zephyrproject.org/project-resources/zephyr-in-market/"><span>Zephyr in Market</span></a></li>
              <li class="last leaf developer-tools mid-2563"><a href="https://zephyrproject.org/project-resources/developer-tools/"><span>Developer Tools</span></a></li>
            </ul>
          </li>
        </ul>
      </nav><!-- /navigation -->
    </div>
  </div>
</header><!-- /header -->
      <!-- STARTS #main -->
      <div id="main">
        <!-- STARTS .main-container -->
        <div class="main-container">
          

 



<!-- Docs -->





<div id="breadcrumb">
  <div class="container">
    <a href="/">Home</a> / 
    <a href="../../../../index.html">Docs</a> /
      
          <a href="../../../boards.html">Supported Boards</a> /
      
          <a href="../../index.html">ARM Boards</a> /
      
  </div>
</div>
          <aside id="sidebar-first" class="container-sidebar">
            
            <span id="secondary-menu-button" class="">Documentation</span>
<div class="region region-sidebar">
  <div class="docs-menu">
  
    
    
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/introducing_zephyr.html">Introducing Zephyr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_started/getting_started.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute/contribute.html">Contributing to the Zephyr Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../kernel/kernel.html">Zephyr Kernel Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../security/security.html">Zephyr Project Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../application/index.html">Developer Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../boards.html">Supported Boards</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../x86/index.html">x86 Boards</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">ARM Boards</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">96Boards Carbon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../96b_carbon_nrf51/doc/96b_carbon_nrf51.html">96Boards Carbon nRF51</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../96b_neonkey/doc/96b_neonkey.html">96Boards Neonkey</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../96b_nitrogen/doc/96b_nitrogen.html">96Boards Nitrogen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../arduino_101_ble/doc/board.html">Arduino/Genuino 101 (BLE)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../arduino_due/doc/board.html">Arduino Due</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../arduino_zero/doc/arduino_zero.html">Arduino/Genuino Zero</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cc2650_sensortag/doc/cc2650_sensortag.html">CC2650 SensorTag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cc3220sf_launchxl/doc/cc3220sf_launchxl.html">CC3220SF LaunchXL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../curie_ble/doc/board.html">Curie (BLE)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../disco_l475_iot1/doc/disco_l475_iot1.html">ST Disco L475 IOT01 (B-L475E-IOT01A)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../efm32wg_stk3800/doc/efm32wg_stk3800.html">EFM32WG-STK3800</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../frdm_k64f/doc/frdm_k64f.html">NXP FRDM-K64F</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../frdm_kl25z/doc/frdm_kl25z.html">NXP FRDM-KL25Z</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../frdm_kw41z/doc/frdm_kw41z.html">NXP FRDM-KW41Z</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hexiwear_k64/doc/hexiwear_k64.html">Hexiwear</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hexiwear_kw40z/doc/hexiwear_kw40z.html">Hexiwear KW40Z</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mimxrt1050_evk/doc/mimxrt1050_evk.html">NXP MIMXRT1050-EVK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mps2_an385/doc/mps2_an385.html">ARM V2M MPS2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../msp_exp432p401r_launchxl/doc/msp_exp432p401r_launchxl.html">MSP-EXP432P401R LaunchXL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf51_blenano/doc/nrf51_blenano.html">Redbear Labs Nano</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf51_pca10028/doc/nrf51_pca10028.html">nRF51-PCA10028</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf51_vbluno51/doc/nrf51_vbluno51.html">nRF51-VBLUno51</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf52840_pca10056/doc/nrf52840_pca10056.html">nRF52840-PCA10056</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf52_blenano2/doc/nrf52_blenano2.html">Redbear Labs Nano v2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf52_pca10040/doc/nrf52_pca10040.html">nRF52-PCA10040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf52_vbluno52/doc/nrf52_vbluno52.html">nRF52-VBLUno52</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f030r8/doc/nucleof030r8.html">ST Nucleo F030R8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f091rc/doc/nucleof091rc.html">ST Nucleo F091RC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f103rb/doc/nucleof103rb.html">ST Nucleo F103RB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f334r8/doc/nucleof334r8.html">ST Nucleo F334R8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f401re/doc/nucleof401re.html">ST Nucleo F401RE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f411re/doc/nucleof411re.html">ST Nucleo F411RE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f412zg/doc/nucleo412zg.html">ST Nucleo F412ZG</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f413zh/doc/nucleof413zh.html">ST Nucleo F413ZH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f429zi/doc/nucleof429zi.html">ST Nucleo F429ZI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_l432kc/doc/nucleol432kc.html">ST Nucleo L432KC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_l476rg/doc/nucleol476rg.html">ST Nucleo L476RG</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../olimex_stm32_e407/doc/olimex_stm32_e407.html">OLIMEX-STM32-E407</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../olimex_stm32_p405/doc/olimex_stm32_p405.html">OLIMEX-STM32-P405</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../olimexino_stm32/doc/olimexino_stm32.html">OLIMEXINO-STM32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qemu_cortex_m3/doc/board.html">ARM Cortex-M3 Emulation (QEMU)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sam4s_xplained/doc/sam4s_xplained.html">SAM4S Xplained</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sam_e70_xplained/doc/sam_e70_xplained.html">SAM E70 Xplained</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm3210c_eval/doc/stm3210c_eval.html">STM3210C-EVAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm32373c_eval/doc/stm32373c_eval.html">STM32373C-EVAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm32_min_dev/doc/stm32_min_dev.html">STM32 Minimum Development Board</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm32f3_disco/doc/stm32f3_disco.html">ST STM32F3DISCOVERY</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm32f411e_disco/doc/stm32f411e_disco.html">STM32F411E-DISCO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm32f412g_disco/doc/stm32f412g_disco.html">ST STM32F412G Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm32f429i_disc1/doc/stm32f429i_disc1.html">ST STM32F429I-DISC1 Discovery board</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm32f469i_disco/doc/stm32f469i_disco.html">ST STM32F469I Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm32f4_disco/doc/stm32f4_disco.html">ST STM32F4DISCOVERY</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm32l476g_disco/doc/stm32l476g_disco.html">ST STM32L476G Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stm32l496g_disco/doc/stm32l496g_disco.html">ST STM32L496G Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usb_kw24d512/doc/usb_kw24d512.html">NXP USB-KW24D512</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../v2m_beetle/doc/v2m_beetle.html">ARM V2M Beetle</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../arc/index.html">ARC Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nios2/index.html">NIOS II Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../xtensa/index.html">XTENSA Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../posix/index.html">Native POSIX Boards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../devices/index.html">Device and Driver Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../subsystems/subsystems.html">Subsystems</a></li>
</ul>

    
  
  </div>
<div role="search" class="sphinx-search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search documentation" class="search-documentation" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</div>
          </aside>
          <!-- STARTS .content SECTION-->
          <section id="content" class="row">
            
	    
            <div class="rst-content">
              <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                <div itemprop="articleBody">
                  
  <div class="section" id="boards-carbon">
<span id="b-carbon-board"></span><h1>96Boards Carbon<a class="headerlink" href="#boards-carbon" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Zephyr applications use the 96b_carbon configuration to run on the 96Boards
Carbon hardware. It is based on the STMicroelectronics STM32F401RET Cortex-M4
CPU and also contains a nRF51822 chip connected over SPI for BLE connectivity.</p>
<p>The 96Boards Carbon board is built with two chips: an STMicroelectronics
STM32F401RET Cortex-M4 CPU and an nRF51822 chip connected to
the Cortex-M4 CPU over SPI for Bluetooth LE connectivity.  Even though
both chips exist on the same physical board, they must be programmed
separately:</p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">96b_carbon</span></code> configuration is used when developing programs for
the main chip on the board, the STM32F401RET. Users will likely want to
write applications targeting this chip, using the <code class="docutils literal"><span class="pre">96b_carbon</span></code>
configuration, since it is connected to all of the breakout
I/O headers.</li>
<li>The <code class="docutils literal"><span class="pre">96b_carbon_nrf51</span></code> configuration should be used for programming
the secondary nRF51822 chip. Most users will likely not develop
applications for this chip, since Zephyr already provides a
sample application that can be flashed onto the nRF51822
to provide Bluetooth functionality to applications on the main
STM32F401RET chip.</li>
</ul>
<p>For instructions on how to set up the nRF51822 to develop Bluetooth
applications, see <a class="reference internal" href="../../96b_carbon_nrf51/doc/96b_carbon_nrf51.html#b-carbon-nrf51-bluetooth"><span class="std std-ref">Providing Bluetooth to 96b_carbon</span></a>.</p>
<p>After you have flashed your nRF51, you can perform basic validation
of this Bluetooth setup using the instructions
<a class="reference internal" href="#b-carbon-verify-bluetooth"><span class="std std-ref">below</span></a>.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../../../../_images/96b-carbon-front.png"><img alt="96Boards Carbon" src="../../../../_images/96b-carbon-front.png" style="width: 487px;" /></a>
<p class="caption"><span class="caption-text">96Boards Carbon</span></p>
</div>
</div>
<div class="section" id="hardware">
<h2>Hardware<a class="headerlink" href="#hardware" title="Permalink to this headline">¶</a></h2>
<p>96Boards Carbon provides the following hardware components:</p>
<ul class="simple">
<li>STM32F401RET6 in LQFP64 package</li>
<li>ARM® 32-bit Cortex®-M4 CPU with FPU</li>
<li>84 MHz max CPU frequency</li>
<li>VDD from 1.7 V to 3.6 V</li>
<li>512 KB Flash</li>
<li>96 KB SRAM</li>
<li>GPIO with external interrupt capability</li>
<li>12-bit ADC with 16 channels</li>
<li>RTC</li>
<li>Advanced-control Timer</li>
<li>General Purpose Timers (7)</li>
<li>Watchdog Timers (2)</li>
<li>USART/UART (4)</li>
<li>I2C (3)</li>
<li>SPI (3)</li>
<li>SDIO</li>
<li>USB 2.0 OTG FS</li>
<li>DMA Controller</li>
<li>Bluetooth LE over SPI, provided by nRF51822</li>
</ul>
<dl class="docutils">
<dt>More information about STM32F401RE can be found here:</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://www.st.com/en/microcontrollers/stm32f401re.html">STM32F401RE on www.st.com</a></li>
<li><a class="reference external" href="http://www.st.com/resource/en/reference_manual/dm00096844.pdf">STM32F401 reference manual</a></li>
</ul>
</dd>
</dl>
<div class="section" id="supported-features">
<h3>Supported Features<a class="headerlink" href="#supported-features" title="Permalink to this headline">¶</a></h3>
<p>The Zephyr 96b_carbon board configuration supports the following hardware
features:</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="20%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Interface</th>
<th class="head">Controller</th>
<th class="head">Driver/Component</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>NVIC</td>
<td>on-chip</td>
<td>nested vector interrupt controller</td>
</tr>
<tr class="row-odd"><td>SYSTICK</td>
<td>on-chip</td>
<td>system clock</td>
</tr>
<tr class="row-even"><td>UART</td>
<td>on-chip</td>
<td>serial port</td>
</tr>
<tr class="row-odd"><td>GPIO</td>
<td>on-chip</td>
<td>gpio</td>
</tr>
<tr class="row-even"><td>PINMUX</td>
<td>on-chip</td>
<td>pinmux</td>
</tr>
<tr class="row-odd"><td>FLASH</td>
<td>on-chip</td>
<td>flash</td>
</tr>
<tr class="row-even"><td>SPI</td>
<td>on-chip</td>
<td>spi</td>
</tr>
<tr class="row-odd"><td>I2C</td>
<td>on-chip</td>
<td>i2c</td>
</tr>
</tbody>
</table>
<p>More details about the board can be found at <a class="reference external" href="http://www.96boards.org/documentation">96Boards website</a>.</p>
<p>The default configuration can be found in the defconfig file:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">boards/arm/96b_carbon/96b_carbon_defconfig</span></code></div></blockquote>
</div>
<div class="section" id="connections-and-ios">
<h3>Connections and IOs<a class="headerlink" href="#connections-and-ios" title="Permalink to this headline">¶</a></h3>
<div class="section" id="led">
<h4>LED<a class="headerlink" href="#led" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>LED1 / User1 LED = PD2</li>
<li>LED2 / User2 LED = PA15</li>
<li>LED3 / BT LED = PB5</li>
<li>LED4 / Power LED = VCC</li>
</ul>
</div>
<div class="section" id="push-buttons">
<h4>Push buttons<a class="headerlink" href="#push-buttons" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>BUTTON = BOOT0 (SW1)</li>
<li>BUTTON = RST</li>
</ul>
</div>
<div class="section" id="external-connectors">
<h4>External Connectors<a class="headerlink" href="#external-connectors" title="Permalink to this headline">¶</a></h4>
<p>Low Speed Header</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="30%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">PIN #</th>
<th class="head">Signal Name</th>
<th class="head">STM32F401 Functions</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>UART2_CTS</td>
<td>PA0</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>UART2_TX</td>
<td>PA2</td>
</tr>
<tr class="row-even"><td>5</td>
<td>UART2_RX</td>
<td>PA3</td>
</tr>
<tr class="row-odd"><td>7</td>
<td>UART2_RTS</td>
<td>PA1</td>
</tr>
<tr class="row-even"><td>9</td>
<td>GND</td>
<td>GND</td>
</tr>
<tr class="row-odd"><td>11</td>
<td>USB5V</td>
<td>USB5V</td>
</tr>
<tr class="row-even"><td>13</td>
<td>AIN12</td>
<td>PC2</td>
</tr>
<tr class="row-odd"><td>15</td>
<td>AIN14</td>
<td>PC4</td>
</tr>
<tr class="row-even"><td>17</td>
<td>UART6_TX</td>
<td>PC6</td>
</tr>
<tr class="row-odd"><td>19</td>
<td>GPIO</td>
<td>PC8</td>
</tr>
<tr class="row-even"><td>21</td>
<td>I2C1_SCL</td>
<td>PB6</td>
</tr>
<tr class="row-odd"><td>23</td>
<td>I2C1_SCA</td>
<td>PB7</td>
</tr>
<tr class="row-even"><td>25</td>
<td>I2C2_SCA</td>
<td>PB3</td>
</tr>
<tr class="row-odd"><td>27</td>
<td>I2C2_SCL</td>
<td>PB10</td>
</tr>
<tr class="row-even"><td>29</td>
<td>RST_BTN</td>
<td>RST_BTN</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="30%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">PIN #</th>
<th class="head">Signal Name</th>
<th class="head">STM32F401 Functions</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>2</td>
<td>SPI2_SS</td>
<td>PB12</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>SPI2_MOSI</td>
<td>PB15</td>
</tr>
<tr class="row-even"><td>6</td>
<td>SPI2_MISO</td>
<td>PB14</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>SPI2_SCK</td>
<td>PB13</td>
</tr>
<tr class="row-even"><td>10</td>
<td>GND</td>
<td>GND</td>
</tr>
<tr class="row-odd"><td>12</td>
<td>VCC2</td>
<td>VCC2</td>
</tr>
<tr class="row-even"><td>14</td>
<td>AIN13</td>
<td>PC3</td>
</tr>
<tr class="row-odd"><td>16</td>
<td>AIN15</td>
<td>PC5</td>
</tr>
<tr class="row-even"><td>18</td>
<td>UART6_RX</td>
<td>PC7</td>
</tr>
<tr class="row-odd"><td>20</td>
<td>GPIO</td>
<td>PC9</td>
</tr>
<tr class="row-even"><td>22</td>
<td>I2C1_SCL</td>
<td>PB8</td>
</tr>
<tr class="row-odd"><td>24</td>
<td>I2C1_SDA</td>
<td>PB9</td>
</tr>
<tr class="row-even"><td>26</td>
<td>AIN10</td>
<td>PC0</td>
</tr>
<tr class="row-odd"><td>28</td>
<td>AIN11</td>
<td>PC1</td>
</tr>
<tr class="row-even"><td>30</td>
<td>NC</td>
<td>NC</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="external-clock-sources">
<h4>External Clock Sources<a class="headerlink" href="#external-clock-sources" title="Permalink to this headline">¶</a></h4>
<p>STM32F4 has two external oscillators. The frequency of the slow clock is
32.768 kHz. The frequency of the main clock is 16 MHz.</p>
</div>
<div class="section" id="serial-port">
<h4>Serial Port<a class="headerlink" href="#serial-port" title="Permalink to this headline">¶</a></h4>
<p>96Boards Carbon board has up to 4 U(S)ARTs. The Zephyr console output is
assigned to USART1. Default settings are 115200 8N1.</p>
</div>
<div class="section" id="i2c">
<h4>I2C<a class="headerlink" href="#i2c" title="Permalink to this headline">¶</a></h4>
<p>96Boards Carbon board has up to 2 I2Cs. The default I2C mapping for Zephyr is:</p>
<ul class="simple">
<li>I2C1_SCL : PB6</li>
<li>I2C1_SDA : PB7</li>
<li>I2C2_SCL : PB10</li>
<li>I2C2_SDA : PB3</li>
</ul>
</div>
</div>
</div>
<div class="section" id="programming-and-debugging">
<h2>Programming and Debugging<a class="headerlink" href="#programming-and-debugging" title="Permalink to this headline">¶</a></h2>
<p>There are 2 main entry points for flashing STM32F4X SoCs, one using the ROM
bootloader, and another by using the SWD debug port (which requires additional
hardware). Flashing using the ROM bootloader requires a special activation
pattern, which can be triggered by using the BOOT0 pin. The ROM bootloader
supports flashing via USB (DFU), UART, I2C and SPI. You can read more about
how to enable and use the ROM bootloader by checking the application
note <a class="reference external" href="http://www.st.com/content/ccc/resource/technical/document/application_note/b9/9b/16/3a/12/1e/40/0c/CD00167594.pdf/files/CD00167594.pdf/jcr:content/translations/en.CD00167594.pdf">AN2606</a>, page 109.</p>
<div class="section" id="flashing">
<h3>Flashing<a class="headerlink" href="#flashing" title="Permalink to this headline">¶</a></h3>
<div class="section" id="installing-dfu-util">
<h4>Installing dfu-util<a class="headerlink" href="#installing-dfu-util" title="Permalink to this headline">¶</a></h4>
<p>It is recommended to use at least v0.8 of <a class="reference external" href="http://dfu-util.sourceforge.net/build.html">dfu-util</a>. The package available in
debian/ubuntu can be quite old, so you might have to build dfu-util from source.</p>
</div>
<div class="section" id="flashing-an-application-to-96boards-carbon">
<h4>Flashing an Application to 96Boards Carbon<a class="headerlink" href="#flashing-an-application-to-96boards-carbon" title="Permalink to this headline">¶</a></h4>
<p>Connect the micro-USB cable to the USB OTG Carbon port and to your computer.
The board should power ON. Force the board into DFU mode by keeping the BOOT0
switch pressed while pressing and releasing the RST switch.</p>
<p>Confirm that the board is in DFU mode:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo dfu-util -l
<span class="go">dfu-util 0.8</span>
<span class="go">Copyright 2005-2009 Weston Schmidt, Harald Welte and OpenMoko Inc.</span>
<span class="go">Copyright 2010-2014 Tormod Volden and Stefan Schmidt</span>
<span class="go">This program is Free Software and has ABSOLUTELY NO WARRANTY</span>
<span class="go">Please report bugs to dfu-util@lists.gnumonks.org</span>
<span class="go">Found DFU: [0483:df11] ver=2200, devnum=15, cfg=1, intf=0, alt=3, name=&quot;@Device Feature/0xFFFF0000/01*004 e&quot;, serial=&quot;3574364C3034&quot;</span>
<span class="go">Found DFU: [0483:df11] ver=2200, devnum=15, cfg=1, intf=0, alt=2, name=&quot;@OTP Memory /0x1FFF7800/01*512 e,01*016 e&quot;, serial=&quot;3574364C3034&quot;</span>
<span class="go">Found DFU: [0483:df11] ver=2200, devnum=15, cfg=1, intf=0, alt=1, name=&quot;@Option Bytes /0x1FFFC000/01*016 e&quot;, serial=&quot;3574364C3034&quot;</span>
<span class="go">Found DFU: [0483:df11] ver=2200, devnum=15, cfg=1, intf=0, alt=0, name=&quot;@Internal Flash /0x08000000/04*016Kg,01*064Kg,03*128Kg&quot;, serial=&quot;3574364C3034&quot;</span>
<span class="go">Found Runtime: [05ac:8290] ver=0104, devnum=2, cfg=1, intf=5, alt=0, name=&quot;UNKNOWN&quot;, serial=&quot;UNKNOWN&quot;</span>
</pre></div>
</div>
<p>You should see following confirmation on your Linux host:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> dmesg
<span class="go">usb 1-2.1: new full-speed USB device number 14 using xhci_hcd</span>
<span class="go">usb 1-2.1: New USB device found, idVendor=0483, idProduct=df11</span>
<span class="go">usb 1-2.1: New USB device strings: Mfr=1, Product=2, SerialNumber=3</span>
<span class="go">usb 1-2.1: Product: STM32 BOOTLOADER</span>
<span class="go">usb 1-2.1: Manufacturer: STMicroelectronics</span>
<span class="go">usb 1-2.1: SerialNumber: 3574364C3034</span>
</pre></div>
</div>
<p>Then build and flash an application. Here is an example for the
<a class="reference internal" href="../../../../samples/hello_world/README.html#hello-world"><span class="std std-ref">Hello World</span></a> application.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> <span class="nv">$ZEPHYR_BASE</span>/samples/hello_world

<span class="gp">#</span> Make a build directory, and use cmake to configure a Make-based build system:
<span class="gp">$</span> mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
<span class="gp">$</span> cmake -DBOARD<span class="o">=</span>96b_carbon ..

<span class="gp">#</span> Now run make on the generated build system:
<span class="gp">$</span> make
<span class="gp">$</span> make flash
</pre></div>
</div>
<p>Connect the micro-USB cable to the USB UART (FTDI) port and to your computer.
Run your favorite terminal program to listen for output.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> minicom -D &lt;tty_device&gt; -b <span class="m">115200</span>
</pre></div>
</div>
<p>Replace <code class="code docutils literal"><span class="pre">&lt;tty_device&gt;</span></code> with the port where the board 96Boards Carbon
can be found. For example, under Linux, <code class="code docutils literal"><span class="pre">/dev/ttyUSB0</span></code>.
The <code class="docutils literal"><span class="pre">-b</span></code> option sets baud rate ignoring the value from config.</p>
<p>Press the Reset button and you should see the the following message in your
terminal:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Hello World! arm</span>
</pre></div>
</div>
</div>
<div class="section" id="verifying-bluetooth-functionality">
<span id="b-carbon-verify-bluetooth"></span><h4>Verifying Bluetooth Functionality<a class="headerlink" href="#verifying-bluetooth-functionality" title="Permalink to this headline">¶</a></h4>
<p>This section contains instructions for verifying basic Bluetooth
functionality on the board. For help on Zephyr applications
in general, see <a class="reference internal" href="../../../../application/application.html#build-an-application"><span class="std std-ref">Build an Application</span></a>.</p>
<ol class="arabic">
<li><p class="first">Flash the nRF51 with the hci_spi sample application as described in
<a class="reference internal" href="../../96b_carbon_nrf51/doc/96b_carbon_nrf51.html#b-carbon-nrf51-bluetooth"><span class="std std-ref">Providing Bluetooth to 96b_carbon</span></a>.</p>
</li>
<li><p class="first">Install the dfu-util flashing app, as described above.</p>
</li>
<li><p class="first">Build and flash the <code class="docutils literal"><span class="pre">samples/bluetooth/ipsp</span></code> application for
96b_carbon. See the instructions above for how to put your board
into DFU mode if you haven’t done this before:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> <span class="nv">$ZEPHYR_BASE</span>/samples/bluetooth/ipsp

<span class="gp">#</span> Make a build directory, and use cmake to configure a Make-based build system:
<span class="gp">$</span> mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
<span class="gp">$</span> cmake -DBOARD<span class="o">=</span>96b_carbon ..

<span class="gp">#</span> Now run make on the generated build system:
<span class="gp">$</span> make
<span class="gp">$</span> make flash
</pre></div>
</div>
</li>
</ol>
<ol class="arabic simple" start="5">
<li>Refer to the instructions in <a class="reference internal" href="../../../../samples/bluetooth/ipsp/README.html#bluetooth-ipsp-sample"><span class="std std-ref">Bluetooth: IPSP Sample</span></a> for how
to verify functionality.</li>
</ol>
<p>Congratulations! Your 96Boards Carbon now has Bluetooth
connectivity. Refer to <a class="reference internal" href="../../../../subsystems/bluetooth/bluetooth.html#bluetooth"><span class="std std-ref">Bluetooth</span></a> for additional information on
further Bluetooth application development.</p>
</div>
</div>
<div class="section" id="debugging">
<h3>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h3>
<p>The 96b_carbon can be debugged by installing a 100 mil (0.1 inch) header
into the header at the bottom right hand side of the board, and
attaching an SWD debugger to the 3V3 (3.3V), GND, CLK, DIO, and RST
pins on that header. Then apply power to the 96Boards Carbon via one
of its USB connectors. You can now attach your debugger to the
STM32F401RET using an SWD scan.</p>
</div>
</div>
</div>


                </div>
              </div>
              <!-- 
  <div class="rst-footer-buttons row" role="navigation" aria-label="footer navigation">
    
      <a href="../../96b_carbon_nrf51/doc/96b_carbon_nrf51.html" class="btn btn-neutral float-right" title="96Boards Carbon nRF51" accesskey="n">
        Next <span class="fa fa-arrow-circle-right"></span>
      </a>
    
    
      <a href="../../index.html" class="btn btn-neutral" title="ARM Boards" accesskey="p">
        <span class="fa fa-arrow-circle-left"></span> Previous
      </a>
    
  </div>
  for ZEP-463 remove the prev/next links -->
            </div>
            <!-- ENDS #content SECTION -->
          </section>
          <!-- ENDS .content -->
        </div>
        <!-- ENDS .main-container -->
      </div>
      <!-- ENDS #main -->
      <footer id="footer">
  <div class="container">
    <div class="block block-menu block-odd first block" data-bid="menu-footer-menu">
      <h3 class="title">Footer Menu</h3>
      <ul class="menu">
        <li class="leaf google- mid-2404">
          <a href="https://plus.google.com/+ZephyrProject" class="google-plus"><span>Google+</span></a>
        </li>
        <li class="leaf twitter mid-2405">
          <a href="https://twitter.com/zephyriot" class="twitter"><span>Twitter</span></a>
        </li>
        <li class="last leaf email mid-2406">
          <a href="mailto:info@zephyrproject.org" class="email"><span>Email</span></a>
        </li>
      </ul>
    </div>
    <div class="block block-block block-even block" data-bid="block-4">
      <p>
        Zephyr Project © 2018 is a Linux Foundation Project. All Rights Reserved.
      </p>
      <p>
        <a href="https://linuxfoundation.org" target="_blank">Linux Foundation</a> is a registered trademark of The Linux Foundation. Linux is a registered <a href="https://www.linuxfoundation.org/about/linux-foundation-trademark-usage-guidelines" target="_blank">trademark</a> of Linus Torvalds.
      </p>
      <p>
        Please see our <a href="https://www.linuxfoundation.org/privacy" target="_blank">privacy policy</a> and <a href="https://www.linuxfoundation.org/terms" target="_blank">terms of use</a>
      </p>
    </div>
  </div>
</footer>
    </div>
    <!-- ENDS #page -->

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'1.10.99',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/js/main.js"></script>
      <script type="text/javascript" src="../../../../_static/js/app.js"></script>
      <script type="text/javascript" src="../../../../_static/js/affix.js"></script>

   

  </body>
</html>